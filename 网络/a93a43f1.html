<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"moeyui1.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="上次我们介绍了如何选购一台vps，这次我们来谈谈在自己的vps上搭建ss搭理。"><meta property="og:type" content="article"><meta property="og:title" content="vps搭建ss代理"><meta property="og:url" content="http://moeyui1.github.io/%E7%BD%91%E7%BB%9C/a93a43f1.html"><meta property="og:site_name" content="不是很懂"><meta property="og:description" content="上次我们介绍了如何选购一台vps，这次我们来谈谈在自己的vps上搭建ss搭理。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-04-15T16:57:03.000Z"><meta property="article:modified_time" content="2021-02-08T10:12:18.758Z"><meta property="article:author" content="moeyui"><meta property="article:tag" content="网络"><meta property="article:tag" content="新手向"><meta property="article:tag" content="科学上网"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://moeyui1.github.io/%E7%BD%91%E7%BB%9C/a93a43f1.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>vps搭建ss代理 | 不是很懂</title><script>function sendPageView(){if(CONFIG.hostname===location.hostname){var e=localStorage.getItem("uid")||Math.random()+"."+Math.random();localStorage.setItem("uid",e),navigator.sendBeacon("https://www.google-analytics.com/collect",new URLSearchParams({v:1,tid:"UA-75483578-1",cid:e,t:"pageview",dp:encodeURIComponent(location.pathname)}))}}document.addEventListener("pjax:complete",sendPageView),sendPageView()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script>function loadCss(e){var n=document,s=n.head,t=n.createElement("link");t.rel="stylesheet",t.href=e,function e(s){if(n.body)return s();setTimeout(function(){e(s)})}(function(){s.appendChild(t)})}loadCss("/style.css"),loadCss("//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"),loadCss("//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css")</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">不是很懂</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">不是很懂你们程序员</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/moeyui1" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://moeyui1.github.io/%E7%BD%91%E7%BB%9C/a93a43f1.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/blogAvatar.jpg"><meta itemprop="name" content="moeyui"><meta itemprop="description" content="moeyui | moeyui's blog"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="不是很懂"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> vps搭建ss代理</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-04-16 00:57:03" itemprop="dateCreated datePublished" datetime="2016-04-16T00:57:03+08:00">2016-04-16</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-02-08 18:12:18" itemprop="dateModified" datetime="2021-02-08T18:12:18+08:00">2021-02-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a></span></span><span id="/%E7%BD%91%E7%BB%9C/a93a43f1.html" class="post-meta-item leancloud_visitors" data-flag-title="vps搭建ss代理" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/%E7%BD%91%E7%BB%9C/a93a43f1.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/%E7%BD%91%E7%BB%9C/a93a43f1.html" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>上次我们介绍了如何选购一台vps，这次我们来谈谈在自己的vps上搭建ss搭理。</p><span id="more"></span><h2 id="1-ss版本"><a href="#1-ss版本" class="headerlink" title="1. ss版本"></a>1. ss版本</h2><p>首先确定我们要安装的版本是服务端，而光是<a target="_blank" rel="noopener" href="https://github.com/shadowsocks">ss官方github</a>上就有各种各样的版本，再加上网上五花八门的个人修改版，初学者恐怕难以适从。<br>这里简单说说几个吾辈用过的版本，以供参考。<strong>选择一个合适的版本安装就好了。</strong></p><h3 id="1-Python版"><a href="#1-Python版" class="headerlink" title="1. Python版"></a>1. Python版</h3><p>首先安装最简单最easy的应该就是Python版，这应该也是官方的主要版本。<a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks/wiki/Shadowsocks-%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E">官方wiki</a>写得很明白，这里小小地补充一下。<br>在debian或ubuntu下安装</p><pre><code>apt-get install python-pip  #我们需要先安装python环境
pip install shadowsocks     #然后就可以一件安装ss</code></pre><p>yum系同理，windows服务器的话，，，吾辈没试过，可以参考<a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks/wiki/Install-Shadowsocks-Server-on-Windows">官方的英文教程</a>。</p><p>安装好接下来填写配置文件（填法后面再提），按照官方中文wiki一步步走就好了。</p><p>但是吾辈不推荐Python版，你可以通过<code>free -m</code>指令来查看开启了ss之后的内存使用情况。因为一般个人买的vps都是小内存（1GB以内），而Python版并没有针对小内存服务器优化，所以一般不会选Python版。当然你要是只搭ss而且用的人很少，512M内存也可以带python，然而为什么不选择下面几个版本呢？</p><h3 id="2-go版"><a href="#2-go版" class="headerlink" title="2. go版"></a>2. <a target="_blank" rel="noopener" href="http://shadowsocks.github.io/shadowsocks-go/">go版</a></h3><p>上面也说了，其实没有必要选择Python版，其它版本一样可以满足我们的需求。比如go版，吾辈现在用的就是这个版本。你可以选择<a target="_blank" rel="noopener" href="http://shadowsocks.github.io/shadowsocks-go/">按照官方教程来安装</a>，但我更推荐使用<a target="_blank" rel="noopener" href="https://teddysun.com/">秋水逸冰teddysun</a>的脚本，<br>依次输入下面的命令即可：</p><pre><code>wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh #下载脚本到当前目录
chmod +x shadowsocks-go.sh  #更改脚本权限
./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log   #执行脚本</code></pre><p>安装过程中会让你配置ss的密码端口，配置完后脚本会写到ss的配置文件中。<br>这个脚本转自<a target="_blank" rel="noopener" href="https://teddysun.com/392.html">秋水逸冰teddysun的教程</a>，虽然脚本不是最新的（服务器的东西稳定优先），但胜在省时省力。顺便提醒一句，<strong>所有的ss都需要手动添加开机自启动</strong>，这个脚本已经加入了开机自启动的功能。</p><blockquote><p>使用命令：<br>启动：<code>/etc/init.d/shadowsocks start</code><br>停止：<code>/etc/init.d/shadowsocks stop</code><br>重启：<code>/etc/init.d/shadowsocks restart</code><br>状态：<code>/etc/init.d/shadowsocks status</code><br>配置文件路径：<em>/etc/shadowsocks/config.json</em></p></blockquote><p>安装完了可以自行查看内存占用情况，你会发现占用比Python小。</p><p>卸载：<code>./shadowsocks-go.sh uninstall</code></p><h3 id="3-libev版"><a href="#3-libev版" class="headerlink" title="3. libev版"></a>3. <a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-libev">libev版</a></h3><p>如果上面的go版的内存拯救还不够明显，吾辈严重推荐你上libv版，该版本使用 libev 和 C 编写，特点是内存占用极小，甚至可以安装在openwrt路由器上。缺点是没有官方支持（也不是很重要），以及，不能通过修改配置文件来实现多端口。当然你可以用过开多个使用不同配置的ss进程来实现多端口，但如果需要多端口还是推荐go版，也不差那点内存。<br>同样推荐<a target="_blank" rel="noopener" href="https://teddysun.com/">秋水逸冰teddysun</a>的脚本(适用于debian)，</p><pre><code>wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh
chmod +x shadowsocks-libev-debian.sh
./shadowsocks-libev-debian.sh 2&gt;&amp;1 | tee shadowsocks-libev-debian.log</code></pre><p>安装过程中会让你配置ss的密码端口，配置完后脚本会写到ss的配置文件中。<br>这个脚本转自<a target="_blank" rel="noopener" href="https://teddysun.com/358.html">秋水逸冰teddysun的教程</a>，使用命令同go版，配置文件路径为<em>/etc/shadowsocks-libev/config.json</em></p><p>卸载： <code>./shadowsocks-libev-debian.sh uninstall</code></p><hr><h2 id="2-配置ss"><a href="#2-配置ss" class="headerlink" title="2. 配置ss"></a>2. 配置ss</h2><p>如果使用一件安装脚本，那么在安装的时候就已经生成了简单的配置文件，我们用vim打开配置文件，先确认你的vps安装了vim，</p><pre><code>apt-get install vim     #安装vim</code></pre><p>然后再编辑配置文件（没有对应配置文件打开看到的将是空白文件，保存后会生成文件）：</p><pre><code>{
    "server":"0.0.0.0",     #可以不填，默认本机，用作客户端时修改
    "server_port":端口号,     #填一个端口号，一般填8000多吧，只要不冲突就好
    "local_address":"127.0.0.1",    #可以不填，指定本机地址
    "local_port":1080,      #可以不填，本机调用代理的时候需要用到
    "password":"密码",      #密码，需要用双引号
    "timeout":600,          #可以不填
    "method":"aes-256-cfb"  #加密方式有很多种，aes-256-cfb是较为常见的，推荐
}</code></pre><p>以上就是一个基本的配置文件，标注为可以不填的项可以不在配置文件中定义。如果你需要使用多端口（效果上差不多相当于多用户），参考下面的配置文件：</p><pre><code>{
    "server_password": [
        ["8387", "foobar"],     #使用8387端口登录时密码为foobar,加密方式默认
        ["8388", "barfoo", "aes-128-cfb"]     #使用8388端口登录时密码为barfoo，加密方式为aes-128-cfb
    ]
}</code></pre><p>就是更改server_password的定义形式就好了，注意libev版不支持这样配置。<br>配置好之后通过<code>/etc/init.d/shadowsocks restart</code>重新启动ss服务来生效。</p><h2 id="结尾吐槽"><a href="#结尾吐槽" class="headerlink" title="结尾吐槽"></a>结尾吐槽</h2><p>好的到这里服务端的ss配置就结束了，其实也很简单啊有没有觉得？这次写教程一张图片都没加，怪怪的。客户端的配置暂时没有打算写，感觉更加简单，，，而且教程一搜一大坨。但是考虑到Linux用户配置起来还是也可能会写一下。<br>顺便一提，吾辈在侧边栏加了一个“福利”界面，暂时是用来分享自用ss账号，不过想想还是不要写密码出来吧（一想到ishadowsocks那边被人用脚本定时获取账号密码），有需要的人估计也不是很多，所以直接微博问我要密码吧。微博基本不玩，这次把微博链接放上来也只是作为一个联系的方式，毕竟国人很少用Twitter等平台。</p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"># 网络</a> <a href="/tags/%E6%96%B0%E6%89%8B%E5%90%91/" rel="tag"># 新手向</a> <a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag"># 科学上网</a></div><div class="post-nav"><div class="post-nav-item"><a href="/coding/935a4d56.html" rel="prev" title="程序员一周年总结——经验分享"><i class="fa fa-chevron-left"></i> 程序员一周年总结——经验分享</a></div><div class="post-nav-item"> <a href="/%E7%BD%91%E7%BB%9C/88529c3b.html" rel="next" title="校园网ipv6环境下免费上网">校园网ipv6环境下免费上网<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-ss%E7%89%88%E6%9C%AC"><span class="nav-number">1.</span> <span class="nav-text">1. ss版本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Python%E7%89%88"><span class="nav-number">1.1.</span> <span class="nav-text">1. Python版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-go%E7%89%88"><span class="nav-number">1.2.</span> <span class="nav-text">2. go版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-libev%E7%89%88"><span class="nav-number">1.3.</span> <span class="nav-text">3. libev版</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E9%85%8D%E7%BD%AEss"><span class="nav-number">2.</span> <span class="nav-text">2. 配置ss</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E5%B0%BE%E5%90%90%E6%A7%BD"><span class="nav-number">3.</span> <span class="nav-text">结尾吐槽</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="moeyui" src="/images/blogAvatar.jpg"><p class="site-author-name" itemprop="name">moeyui</p><div class="site-description" itemprop="description">moeyui | moeyui's blog</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">40</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/moeyui1" title="GitHub → https://github.com/moeyui1" rel="noopener" target="_blank"><i class="github fa-fw"></i> GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> © 2015 – <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa-user"></i></span> <span class="author" itemprop="copyrightHolder">moeyui</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> &amp; <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer></div><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/bundle.js"></script><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  };(function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();;NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Nk9tNzbllEl79DVtRiOuLmbm-gzGzoHsz',
      appKey     : 'uPzxSfSzF95Gav6vGx2dOhCq',
      placeholder: "Just go go",
      avatar     : 'retro',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script></body></html>