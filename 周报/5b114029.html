<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"moeyui1.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="中国信通院发布云原生白皮书；CNCF联合阿里巴巴提供免费云原生课程；Serverless Framework 1.41发布。"><meta property="og:type" content="article"><meta property="og:title" content="Serverless 每周小报-20190429"><meta property="og:url" content="http://moeyui1.github.io/%E5%91%A8%E6%8A%A5/5b114029.html"><meta property="og:site_name" content="不是很懂"><meta property="og:description" content="中国信通院发布云原生白皮书；CNCF联合阿里巴巴提供免费云原生课程；Serverless Framework 1.41发布。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-04-29T12:58:24.000Z"><meta property="article:modified_time" content="2021-02-08T10:12:18.755Z"><meta property="article:author" content="moeyui"><meta property="article:tag" content="serverless"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://moeyui1.github.io/%E5%91%A8%E6%8A%A5/5b114029.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Serverless 每周小报-20190429 | 不是很懂</title><script>function sendPageView(){if(CONFIG.hostname===location.hostname){var e=localStorage.getItem("uid")||Math.random()+"."+Math.random();localStorage.setItem("uid",e),navigator.sendBeacon("https://www.google-analytics.com/collect",new URLSearchParams({v:1,tid:"UA-75483578-1",cid:e,t:"pageview",dp:encodeURIComponent(location.pathname)}))}}document.addEventListener("pjax:complete",sendPageView),sendPageView()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script>function loadCss(e){var n=document,s=n.head,t=n.createElement("link");t.rel="stylesheet",t.href=e,function e(s){if(n.body)return s();setTimeout(function(){e(s)})}(function(){s.appendChild(t)})}loadCss("/style.css"),loadCss("//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"),loadCss("//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css")</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">不是很懂</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">不是很懂你们程序员</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/moeyui1" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://moeyui1.github.io/%E5%91%A8%E6%8A%A5/5b114029.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/blogAvatar.jpg"><meta itemprop="name" content="moeyui"><meta itemprop="description" content="moeyui | moeyui's blog"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="不是很懂"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Serverless 每周小报-20190429</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-04-29 20:58:24" itemprop="dateCreated datePublished" datetime="2019-04-29T20:58:24+08:00">2019-04-29</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-02-08 18:12:18" itemprop="dateModified" datetime="2021-02-08T18:12:18+08:00">2021-02-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E5%91%A8%E6%8A%A5/" itemprop="url" rel="index"><span itemprop="name">周报</span></a></span></span><span id="/%E5%91%A8%E6%8A%A5/5b114029.html" class="post-meta-item leancloud_visitors" data-flag-title="Serverless 每周小报-20190429" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/%E5%91%A8%E6%8A%A5/5b114029.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/%E5%91%A8%E6%8A%A5/5b114029.html" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>中国信通院发布云原生白皮书；CNCF联合阿里巴巴提供免费云原生课程；Serverless Framework 1.41发布。</p><span id="more"></span><h2 id="博客精选"><a href="#博客精选" class="headerlink" title="博客精选"></a>博客精选</h2><h3 id="Google-Cloud-Run-一瞥"><a href="#Google-Cloud-Run-一瞥" class="headerlink" title="Google Cloud Run 一瞥"></a><a target="_blank" rel="noopener" href="https://blog.fleeto.us/post/a-first-look-at-google-cloud-run/">Google Cloud Run 一瞥</a></h3><p>Google 在 Cloud Next’19 上发布了基于 Docker 容器的的 Serverless 新方案。目前可以肯定的是，这是 Serverless 的重要进步——在 Cloud Run 上进行部署比在 Kubernetes 上运行容器简单多了。而且和 Lambda 不同，这一方案没有语言绑定的问题。</p><h3 id="Serverless-Can-It-Simplify-Data-Science-Projects"><a href="#Serverless-Can-It-Simplify-Data-Science-Projects" class="headerlink" title="Serverless: Can It Simplify Data Science Projects?"></a><a target="_blank" rel="noopener" href="https://towardsdatascience.com/serverless-can-it-simplify-data-science-projects-8821369bf3bd">Serverless: Can It Simplify Data Science Projects?</a></h3><p>数据科学家花费大量时间在数据收集、构建基础设施、开发和集成等工作上，而真正用在模型开发和测试的时间少之又少，本文介绍了如何借助Serverless来帮助数据科学家专注数学科学逻辑，提高工作效率。</p><h3 id="kubeCDN：一个基于-Kubernetes-的自托管-CDN"><a href="#kubeCDN：一个基于-Kubernetes-的自托管-CDN" class="headerlink" title="kubeCDN：一个基于 Kubernetes 的自托管 CDN"></a><a target="_blank" rel="noopener" href="https://www.infoq.cn/article/trfu-uB4FPhAB4uLvL4R">kubeCDN：一个基于 Kubernetes 的自托管 CDN</a></h3><p>在本篇博文中，作者主要讨论了 kubeCDN 的设计和实现，这个工具旨在简化 Kubernetes 集群的跨地域复制，以便在全球范围内部署高可用的 CDN（内容分发网络）服务。</p><h3 id="Deploy-and-monitor-Docker-containers-using-AWS-Elastic-Beanstalk-in-3-steps"><a href="#Deploy-and-monitor-Docker-containers-using-AWS-Elastic-Beanstalk-in-3-steps" class="headerlink" title="Deploy and monitor Docker containers using AWS Elastic Beanstalk in 3 steps"></a><a target="_blank" rel="noopener" href="https://read.acloud.guru/docker-on-elastic-beanstalk-tips-e1a4e6b70ff2">Deploy and monitor Docker containers using AWS Elastic Beanstalk in 3 steps</a></h3><p>当Cloud Run崭露头角时，它的诸多特性让我们不得不同AWS珠玉在前的资源托管服务Beanstalk联系在一起。本文将会带领大家了解如何使用Beantalks。对本文而言，使用者应当关注它的形态是否符合Serverless的需求；而开发者应当思考，Cloud Run或者Beanstalk，它们的内在异同。</p><h3 id="AO-com-the-path-to-Serverless-First"><a href="#AO-com-the-path-to-Serverless-First" class="headerlink" title="AO.com: the path to Serverless First"></a><a target="_blank" rel="noopener" href="https://serverless.com/blog/ao-serverless-first/">AO.com: the path to Serverless First</a></h3><p>AO.com 是来自英国的领先在线电器零售商。本文介绍了 AO.com 如何为了顺应 GDPR 法规，将服务 Serverless 化，并在 AWS Lambda 上实现他们的数据流水线。本文由 Nick Gottlieb，Serverless公司发展副总裁撰写。</p><h3 id="云原生的新思考：为什么说容器已经无处不在了？"><a href="#云原生的新思考：为什么说容器已经无处不在了？" class="headerlink" title="云原生的新思考：为什么说容器已经无处不在了？"></a><a target="_blank" rel="noopener" href="https://www.infoq.cn/article/hhk37_UC1FgJFCQyIk7c">云原生的新思考：为什么说容器已经无处不在了？</a></h3><p>4 月 24 日，中国信息通信研究院主办的首届云原生产业大会在北京举行，在《云原生数字引领未来》的主题演讲中，阿里云容器服务总监易立表示：“云原生不但可以很好的支持互联网应用，也在深刻影响着新的计算架构、新的智能数据应用。以容器、服务网格、微服务、Serverless 为代表的云原生技术，带来一种全新的方式来构建应用。”本文根据易立演讲内容整理而成。</p><h2 id="业界要闻"><a href="#业界要闻" class="headerlink" title="业界要闻"></a>业界要闻</h2><p><a target="_blank" rel="noopener" href="https://www.toutiao.com/i6684024971481580039/">中国信通院发布云原生白皮书</a>：4月24日，国内最权威、最大规模的云原生应用大会——2019云原生产业大会在北京召开。本次大会上，中国信息通信研究院重磅发布了《云原生行业应用实践白皮书》和《无服务架构技术白皮书》两份白皮书。《云原生行业应用实践白皮书》系统阐述了云原生架构的主要技术、云原生技术的行业落地实践、云原生应用发展趋势和标准化建议。在金融行业落地实践中，蚂蚁金服的分布式架构技术SOFAStack和云原生应用平台APaaS助力网商银行成为中国第一家将核心系统架构在金融云上的银行，就是其中的典型应用案例。据悉，在2018年双11期间，网商银行采用云原生技术进行底层架构的全面升级，不仅提供了如丝般顺滑的服务体验，而且支撑的整体业务容量和峰值TPS增长了400%。《无服务架构技术白皮书》则系统阐述了Serverless的技术生态现状、Serverless架构适用场景、技术发展趋势与落地应用案例。作为落地应用案例代表之一，蚂蚁金服采用Serverless架构这种更高效、简单的方式快速实现安全、稳定、可靠的支付宝小程序后台服务，可以大幅提升研发效率、提供高可用的服务能力、提供专业的安全管控，并实现低成本高收益。蚂蚁金服Serverless应用服务（SAS）为小程序提供了后端无服务器产品平台和解决方案。</p><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/y2V3PwOK5qbdmjFsuNTGkg">CNCF与阿里巴巴联手为中国开发人员提供免费云原生课程</a>：“CNCF x 阿里巴巴云原生课程”的目标在于指导开发人员使用云原生技术，包括 Kubernetes、etcd、containerd 和 Envoy。此外，这门课程还将介绍促进云计算兴起的各方面因素。课程完全免费，不用注册。</p><p><a target="_blank" rel="noopener" href="https://www.infoq.com/news/2019/04/nimbus-serverless-java-framework">Nimbus: New Framework for Building Java Serverless Applications</a>：Nimbus框架是一个Java框架，旨在简化云中功能即服务（FaaS）应用程序的开发，测试和部署。 Nimbus提供与云无关的通用接口，用于与云提供商的无服务器功能进行交互。</p><p><a target="_blank" rel="noopener" href="https://serverless.com/blog/framework-release-v141/">Serverless 框架 v1.41 版本发布</a>：添加了对 AWS API Gateway 的 <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/xray/index.html">X-Ray</a> 支持，优化了 Docker 本地调用等功能。</p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/serverless/" rel="tag"># serverless</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E5%91%A8%E6%8A%A5/ccc399a1.html" rel="prev" title="Serverless 每周小报-20190422"><i class="fa fa-chevron-left"></i> Serverless 每周小报-20190422</a></div><div class="post-nav-item"> <a href="/%E5%91%A8%E6%8A%A5/f85a550d.html" rel="next" title="Serverless 每周小报-20190506">Serverless 每周小报-20190506<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%9A%E5%AE%A2%E7%B2%BE%E9%80%89"><span class="nav-number">1.</span> <span class="nav-text">博客精选</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Cloud-Run-%E4%B8%80%E7%9E%A5"><span class="nav-number">1.1.</span> <span class="nav-text">Google Cloud Run 一瞥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Serverless-Can-It-Simplify-Data-Science-Projects"><span class="nav-number">1.2.</span> <span class="nav-text">Serverless: Can It Simplify Data Science Projects?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#kubeCDN%EF%BC%9A%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8E-Kubernetes-%E7%9A%84%E8%87%AA%E6%89%98%E7%AE%A1-CDN"><span class="nav-number">1.3.</span> <span class="nav-text">kubeCDN：一个基于 Kubernetes 的自托管 CDN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deploy-and-monitor-Docker-containers-using-AWS-Elastic-Beanstalk-in-3-steps"><span class="nav-number">1.4.</span> <span class="nav-text">Deploy and monitor Docker containers using AWS Elastic Beanstalk in 3 steps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AO-com-the-path-to-Serverless-First"><span class="nav-number">1.5.</span> <span class="nav-text">AO.com: the path to Serverless First</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%91%E5%8E%9F%E7%94%9F%E7%9A%84%E6%96%B0%E6%80%9D%E8%80%83%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4%E5%AE%B9%E5%99%A8%E5%B7%B2%E7%BB%8F%E6%97%A0%E5%A4%84%E4%B8%8D%E5%9C%A8%E4%BA%86%EF%BC%9F"><span class="nav-number">1.6.</span> <span class="nav-text">云原生的新思考：为什么说容器已经无处不在了？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%9A%E7%95%8C%E8%A6%81%E9%97%BB"><span class="nav-number">2.</span> <span class="nav-text">业界要闻</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="moeyui" src="/images/blogAvatar.jpg"><p class="site-author-name" itemprop="name">moeyui</p><div class="site-description" itemprop="description">moeyui | moeyui's blog</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">40</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/moeyui1" title="GitHub → https://github.com/moeyui1" rel="noopener" target="_blank"><i class="github fa-fw"></i> GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> © 2015 – <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa-user"></i></span> <span class="author" itemprop="copyrightHolder">moeyui</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> &amp; <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer></div><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/bundle.js"></script><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  };(function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();;NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Nk9tNzbllEl79DVtRiOuLmbm-gzGzoHsz',
      appKey     : 'uPzxSfSzF95Gav6vGx2dOhCq',
      placeholder: "Just go go",
      avatar     : 'retro',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script></body></html>